{% extends 'base.html' %}

{% block title %} Dashboard {% endblock %}

{% block content %}

<h2> Dashboard </h2>

  <!-- RECIPE SEARCH FORM -->
  <form action="/dashboard.json" id="search-result">
    Search recipe: <input type="text" id="recipe-search">
    <input type="submit" value="submit">
  </form> 

  <!-- CREATE NEW LIST -->
  <form action="/new-list.json" id="new-list">
    Create new list: <input type="text" value="Enter list name here" id="new-list-name">
    <input type="submit" value="submit">
  </form> 

  <!-- DISPLAYS EXISTING LISTS -->
  Current lists: 
    <span id='user-lists'>
      {% for lst in user_lists %}
        <button type='button' class='user-list' data-list-id='{{ lst.list_id }}'> {{ lst.list_name }} </button> |
      {% endfor %} 
    </span> <br>

    <input type='hidden' id='list-activation-handler' value='1'>

  <!-- DISPLAYS CURRENT LIST'S INGREDIENTS -->
  Current grocery list:
  <div id='grocery-lists'>
    {% for lst in user_lists %}
      <div class='grocery-list' data-list-id='{{ lst.list_id }}'>
        {% for ingredient in lst.list_ingredients %}
          {{ ingredient.mass_qty }} {{ ingredient.meas_unit }} 
          {{ ingredient.ingredient.ing_name }} <br>
        {% endfor %}
      </div>
    {% endfor %} 
  </div>

  <!-- RECIPE SEARCH RESULTS -->
  <div id="recipes"> </div> <br>

  <!-- IMPORT AJAX FILES -->
  <script src="/static/js/search-result.js" type="text/javascript"></script>
  <script src="/static/js/bookmark-recipe.js" type="text/javascript"></script>
  <script src="/static/js/new-list.js" type="text/javascript"></script>
  <script src="/static/js/toggle-list-activation.js" type="text/javascript"></script>
  <script src="/static/js/add-ingredients-to-list.js" type="text/javascript"></script>


{% endblock %}