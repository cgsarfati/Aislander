{% extends 'base.html' %}

{% block title %} Dashboard {% endblock %}

{% block content %}

<h2> Dashboard </h2>

  <!-- RECIPE SEARCH FORM -->
  <form action="/dashboard.json" id="search-result">
    Search recipe: <input type="text" id="recipe-search">
    <input type="submit" id="submit-search" value="submit">
  </form> 

  <!-- CREATE NEW LIST -->
  <form action="/new-list.json" id="new-list">
    Create new list: <input type="text" value="Enter list name here" id="new-list-name">
    <input type="submit" value="submit">
  </form> 

  <!-- DISPLAYS EXISTING LISTS -->
  Current lists: 
    <span id='user-lists'>
      {% for lst in grocery_list_info %}
        <button type='button' class='user-list' data-list-id='{{ lst[0] }}'> {{ lst[1] }} </button> |
      {% endfor %} 
    </span> <br>

    <input type='hidden' id='list-activation-handler' value='1'>

  <!-- DISPLAYS CURRENT LIST'S INGREDIENTS -->
  Current grocery list:
  <div id='grocery-lists'>
    {% for lst in grocery_list_info %}
      <div class='grocery-list' id='{{ lst[0] }}' data-list-id='{{ lst[0] }}'>
        {% for aisle in grocery_list_info[lst] %}
          <div class='aisle' data-aisle-name='{{ aisle[1] }}'> 
            <ul id='{{lst[0]}}-{{aisle[0]}}'> {{ aisle[1] }}
              {% for ingredient in grocery_list_info[lst][aisle] %}
                <li> {{ ingredient['ing_qty'] }} {{ ingredient['ing_unit'] }}
                {{ ingredient['ing_name'] }} </li>
              {% endfor %}
          </div>
        {% endfor %} 
      </div>
    {% endfor %} 
  </div>

  <!-- RECIPE SEARCH RESULTS -->
  <div id="recipes"> </div> <br>

  <!-- IMPORT AJAX FILES -->
  <script src="/static/js/search-result.js" type="text/javascript"></script>
  <script src="/static/js/bookmark-recipe.js" type="text/javascript"></script>
  <script src="/static/js/new-list.js" type="text/javascript"></script>
  <script src="/static/js/toggle-list-activation.js" type="text/javascript"></script>
  <script src="/static/js/add-ingredients-to-list.js" type="text/javascript"></script>


{% endblock %}